import init.cm-star.rc

on early-init
    mount debugfs debugfs /sys/kernel/debug

on fs
# mount partitions
    mount_all /fstab.star

on post-fs
## LGE
    mkdir /data/nv
    chown system system /data/nv
    chmod 0711 /data/nv

    mkdir /data/ve
    chown system system /data/ve
    mount ext3 /dev/block/mmcblk0p10 /data/ve
    chmod 0711 /data/ve
## LGE 

on boot

### LGE GPS
# gps permissions
    chown system system /sys/devices/platform/gps_gpio/poweron
    chown system system /sys/devices/platform/gps_gpio/reset
    chown system system /dev/ttyHS3
    mkdir /data/gps
    chmod 777 /data/gps
    mkdir /data/gps/var
    chmod 777 /data/gps/var
    mkdir /data/gps/var/run
    chmod 777 /data/gps/var/run
    mkdir /data/gps/log
    chmod 777 /data/gps/log
    mkdir /data/cache
    chmod 777 /data/cache
    chown system system /system/bin/glgps
    chown system system /system/etc/gps_brcm_conf.xml
    chown system system /system/etc/cert/
    chown system system /system/etc/cert/537a0176.0
    chown system system /system/etc/cert/c9dbfc2e.0
    chown system system /system/etc/cert/ddc328ff.0
    chown system system /system/etc/cert/7651b327.0
    chown system system /system/etc/cert/583a21ed.0
    chown system system /system/etc/cert/72fa7371.0
    chown system system /system/etc/cert/c33a80d4.0

on property:dev.bootcomplete=1
    start setcpversion

on property:sys.perf.profile=0
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "conservative"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "conservative"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq "760000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_max_freq "760000"
    write /sys/module/cpu_tegra/parameters/cpu_user_cap "760000"
    write /sys/devices/system/cpu/cpu0/cpufreq/screen_off_max_freq "456000"
    write /sys/devices/system/cpu/cpu1/cpufreq/screen_off_max_freq "456000"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq "216000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_min_freq "216000"

on property:sys.perf.profile=1
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "dyninteractive"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "dyninteractive"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq "1200000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_max_freq "1200000"
    write /sys/module/cpu_tegra/parameters/cpu_user_cap "1200000"
    write /sys/devices/system/cpu/cpu0/cpufreq/screen_off_max_freq "608000"
    write /sys/devices/system/cpu/cpu1/cpufreq/screen_off_max_freq "608000"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq "216000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_min_freq "216000"

on property:sys.perf.profile=2
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq "1500000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_max_freq "1500000"
    write /sys/module/cpu_tegra/parameters/cpu_user_cap "1500000"
    write /sys/devices/system/cpu/cpu0/cpufreq/screen_off_max_freq "1200000"
    write /sys/devices/system/cpu/cpu1/cpufreq/screen_off_max_freq "1200000"
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq "456000"
    write /sys/devices/system/cpu/cpu1/cpufreq/scaling_min_freq "456000"

service charger /charger
    class charger
    user root
    group root
    oneshot

service glgps /system/bin/glgps -c /system/etc/gps_brcm_conf.xml
    class core
    user system
    group net_raw sdcard_rw system

service setcpversion /system/bin/lgcpversion
    class main
    oneshot
